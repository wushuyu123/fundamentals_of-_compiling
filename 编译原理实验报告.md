# 2020-2021学年第2学期

##  实 验 报 告

| 学号     | 姓名   | 班级       | 权重 | 任务     |
| -------- | ------ | ---------- | ---- | -------- |
| 32001111 | 陈家鹏 | 计算机2001 | 0.5  | 见GitHub |
| 32001128 | 吴书雨 | 计算机2001 | 0.5  | 见GitHub |



-   课程名称: <u>编程语言原理与编译</u>
-   实验项目: <u>期末大作业</u>
-   实验指导教师:<u>郭鸣</u>

| 姓名   | 学号     | 班级       | 任务       | 权重   |
| ------ | -------- | ---------- | ---------- | ------ |
| Name   | No.      | Class      | Task       | Factor |
| 徐海东 | 31901028 | 计算机1901 | 编码、测试 | 1.0    |

## 项目自评等级:(1-5) 请根据自己项目情况填写下表

| 词法                                     | 评分  | 备注 |
| ---------------------------------------- | ----- | ---- |
| 类型名称以大写开头                       | ⭐⭐⭐⭐⭐ |      |
| 变量名以小写开头                         |       |      |
| 两个下划线开头的名字__是内部保留，不允许 |       |      |
| 注释（* *）                              |       |      |
| Float                                    |       |      |

| 语法            | 评分 | 备注 |
| --------------- | ---- | ---- |
| I++ I-- ++I --I | ⭐⭐⭐⭐ |      |
| += -= *= /= %=  |      |      |

## 项目说明

+ 项目 是基于现有的microc代码

  - 改进 xxx模块 功能1

  - 改进 xxx模块 功能2

  - 。。。。

- 项目 独立开发
  - 独立开发了 xx 模块
  - 。。。。

## 解决技术要点说明

### 解释器

#### 1. 解决类型检查，关键代码与步骤如下

类型首字母大写通过自定义匹配实现，变量首字母大写通过正则表达式判断，

1. 步骤

   + 修改Clex.fsl 中关键词信息，正则表达式匹配首字母大写变量

   ![image-20230602101118995](imgs\01.png)

2. 测试

   测试代码

   ![image-20230529103313437](imgs\small_letter.png)

类型首字母大写测试

如果类型首字母小写，将出现报错

![image-20230529103225009](imgs\small_letter_1.png)

如果首字母大写（代码的注释部分），输出100

![image-20230529101549579](imgs\small_letter_2.png)





#### 2. 实现自定义注释 （  （*   *）），关键代码与步骤如下



#### 3. 未完全实现Float类型，部分关键代码与步骤如下

#### 

#### 4.解决自增自减运算符（i++,i--,--i,++i）问题，关键代码与步骤如下

1. 实现

   1. 在Absyn.fs中添加表达式

      ![image-20230602101933393](imgs\02.png)
      
      2.在CLex.fsl中添加 ++ 和 -- 的词法
      
      ![image-20230602102112782](imgs\03.png) 

​				3.在CPar.fsy中添加token：SELFPLUS、 SELFMINUS；运算优先级；非左值情况定义

![image-20230602102338989](imgs\04.png)

​				4.测试代码

​                   ![image-20230602102526025](imgs\test++--.png)  

![image-20230602102633363](imgs\run++--.png)

# 心得体会

+ 大作业开发过程心得
+ 本课程建议

​	
